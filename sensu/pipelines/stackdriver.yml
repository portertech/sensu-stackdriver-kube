---
type: Asset
api_version: core/v2
metadata:
  name: portertech/sensu-stackdriver-handler
  labels:
  annotations:
    io.sensu.bonsai.url: https://bonsai.sensu.io/assets/portertech/sensu-stackdriver-handler
    io.sensu.bonsai.api_url: https://bonsai.sensu.io/api/v1/assets/portertech/sensu-stackdriver-handler
    io.sensu.bonsai.tier: Community
    io.sensu.bonsai.version: 1.1.0
    io.sensu.bonsai.namespace: portertech
    io.sensu.bonsai.name: sensu-stackdriver-handler
    io.sensu.bonsai.tags: ''
spec:
  builds:
  - url: https://assets.bonsai.sensu.io/556e05196195986da75f62ad3d875c9c7e49602c/sensu-stackdriver-handler_1.1.0_linux_amd64.tar.gz
    sha512: a1003469409a30b97b56b38eea7dd671800f51156ca37975560039dfd10bc56584b19475d950f07db21eb7f24d32aad8add3f0fcccbf7806920678066c847cfb
    filters:
    - entity.system.os == 'linux'
    - entity.system.arch == 'amd64'
---
type: Secret
api_version: secrets/v1
metadata:
  name: stackdriver-project-id
  namespace: default
spec:
  id: STACKDRIVER_PROJECT_ID
  provider: env
---
type: Handler
api_version: core/v2
metadata:
  name: stackdriver
spec:
  type: pipe
  runtime_assets:
  - portertech/sensu-stackdriver-handler
  secrets:
  - name: STACKDRIVER_PROJECT_ID
    secret: stackdriver-project-id
  command: sensu-stackdriver-handler -p $STACKDRIVER_PROJECT_ID
  timeout: 10
  filters:
  - has_metrics
